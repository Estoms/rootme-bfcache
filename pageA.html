<!DOCTYPE html>
<html>
<head>
<script>
let flag = null;

window.addEventListener('load', () => {
  fetch('/flag', { credentials: 'include' })
    .then(response => response.text())
    .then(data => {
      flag = data;
      setTimeout(() => { window.location.href = 'pageB.html'; }, 500);
    });
});

window.addEventListener('pageshow', (event) => {
  if (event.persisted && flag) {
    document.body.innerText = flag;
  }
});
</script>
</head>
<body>
Loading...
</body>
</html>
